
<!DOCTYPE html>
<html
  lang="en"
  data-figures=""
  
    class="page"
  
  
  >
  <head>
<title>IstioCon2023：Cert-manager帮助增强Istio证书管理的安全性和灵活性 | 爱豆吧！</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">





  
<meta property="og:locale" content="en" />

<meta property="og:type" content="article">
<meta name="description" content="记录在2023年9月26日在上海IstioCon上发表的技术演讲《cert-manager Help Enhance Security and Flexibility of Istio Certificate Management》
议题： 对等身份验证是 Istio 零信任安全模型的基本组成部分。默认情况 …" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:creator" content="">
<meta name="twitter:title" content="IstioCon2023：Cert-manager帮助增强Istio证书管理的安全性和灵活性" />
<meta name="twitter:image" content="https://idouba.com/images/thumbnail.png"/>
<meta property="og:url" content="https://idouba.com/istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/" />
<meta property="og:title" content="IstioCon2023：Cert-manager帮助增强Istio证书管理的安全性和灵活性" />
<meta property="og:description" content="记录在2023年9月26日在上海IstioCon上发表的技术演讲《cert-manager Help Enhance Security and Flexibility of Istio Certificate Management》
议题： 对等身份验证是 Istio 零信任安全模型的基本组成部分。默认情况 …" />
<meta property="og:image" content="https://idouba.com/images/thumbnail.png" />

<link rel="apple-touch-icon" sizes="180x180" href="https://idouba.com/icons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://idouba.com/icons/favicon-32x32.png">
<link rel="manifest" href="https://idouba.com/icons/site.webmanifest">

<link rel="canonical" href="https://idouba.com/istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/">



<link rel="preload" href="https://idouba.com/css/styles.42e2c5f6d8cf9c52872666f8d8b2678ad0c426978b9d78aff3c33b7a1e7f6f97f54bcdaf0518a25fb0fe26367d04f8b07c683b3b38b331cb098daadee06b1f3e.css" integrity = "sha512-QuLF9tjPnFKHJmb42LJnitDEJpeLnXiv88M7eh5/b5f1S82vBRiiX7D&#43;JjZ9BPiwfGg7OzizMcsJjare4GsfPg==" as="style" crossorigin="anonymous">



<link rel="preload" href="https://idouba.com/en/js/bundle.ff336aa3aa59d3b9ad38479bb59153d96581fbb501e8946475e657e5412e6b0ecfd0011520c158ce613db24190d23242c59813c62c23f9d902b693489bbdf52f.js" as="script" integrity=
"sha512-/zNqo6pZ07mtOEebtZFT2WWB&#43;7UB6JRkdeZX5UEuaw7P0AEVIMFYzmE9skGQ0jJCxZgTxiwj&#43;dkCtpNIm731Lw==" crossorigin="anonymous">


<link rel="stylesheet" type="text/css" href="https://idouba.com/css/styles.42e2c5f6d8cf9c52872666f8d8b2678ad0c426978b9d78aff3c33b7a1e7f6f97f54bcdaf0518a25fb0fe26367d04f8b07c683b3b38b331cb098daadee06b1f3e.css" integrity="sha512-QuLF9tjPnFKHJmb42LJnitDEJpeLnXiv88M7eh5/b5f1S82vBRiiX7D&#43;JjZ9BPiwfGg7OzizMcsJjare4GsfPg==" crossorigin="anonymous">

  </head>
  <body
    data-code="7"
    data-lines="false"
    id="documentTop"
    data-lang="en"
  >

<header class="nav_header" >
  <nav class="nav"><a href='https://idouba.com/' class="nav_brand nav_item" title="爱豆吧！">爱豆吧！
  <div class="nav_close">
    <div><svg class="icon">
  <title>open-menu</title>
  <use xlink:href="#open-menu"></use>
</svg>
<svg class="icon">
  <title>closeme</title>
  <use xlink:href="#closeme"></use>
</svg>
</div>
  </div>
</a>

    <div class='nav_body nav_body_left'>
      
      
      
        

  <div class="nav_parent">
    <a href="https://idouba.com/" class="nav_item" title="Home">Home </a>
  </div>
  <div class="nav_parent">
    <a href="https://idouba.com/post/rich-content/" class="nav_item" title="Archives">Archives </a>
  </div>
  <div class="nav_parent">
    <a href="https://idouba.com/about/" class="nav_item" title="About">About </a>
  </div>
      
      <div class="nav_parent">
        <a href="#" class="nav_item">🌐</a>
        <div class="nav_sub">
          <span class="nav_child"></span>
          
          <a href="https://idouba.com/" class="nav_child nav_item">English</a>
          
          <a href="https://idouba.com/pt/" class="nav_child nav_item">Português</a>
          
        </div>
      </div>
<div class='follow'>
<div class="color_mode">
  <input type="checkbox" class="color_choice" id="mode">
</div>

</div>

    </div>
  </nav>
</header>

    <main>
  
<div class="grid-inverse wrap content">
  <article class="post_content">
    <h1 class="post_title">IstioCon2023：Cert-manager帮助增强Istio证书管理的安全性和灵活性</h1>
  <div class="post_meta">
    <span><svg class="icon">
  <title>calendar</title>
  <use xlink:href="#calendar"></use>
</svg>
</span>
    <span class="post_date">
      Sep 26, 2023</span>
    <span class="post_time"> · 2 min read</span><span>&nbsp;· <a href='https://idouba.com/tags/istio/' title="Istio" class="post_tag button button_translucent">Istio
        </a><a href='https://idouba.com/tags/istiocon/' title="IstioCon" class="post_tag button button_translucent">IstioCon
        </a><a href='https://idouba.com/tags/%E6%BC%94%E8%AE%B2/' title="演讲" class="post_tag button button_translucent">演讲
        </a><a href='https://idouba.com/tags/%E5%AE%89%E5%85%A8/' title="安全" class="post_tag button button_translucent">安全
        </a>
    </span>
    <span class="page_only">&nbsp;·
  <div class="post_share">
    Share on:
    <a href="https://twitter.com/intent/tweet?text=IstioCon2023%ef%bc%9aCert-manager%e5%b8%ae%e5%8a%a9%e5%a2%9e%e5%bc%baIstio%e8%af%81%e4%b9%a6%e7%ae%a1%e7%90%86%e7%9a%84%e5%ae%89%e5%85%a8%e6%80%a7%e5%92%8c%e7%81%b5%e6%b4%bb%e6%80%a7&url=https%3a%2f%2fidouba.com%2fistiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management%2f&tw_p=tweetbutton" class="twitter" title="Share on Twitter" target="_blank" rel="nofollow">
      <svg class="icon">
  <title>twitter</title>
  <use xlink:href="#twitter"></use>
</svg>

    </a>
    <a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fidouba.com%2fistiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management%2f&t=IstioCon2023%ef%bc%9aCert-manager%e5%b8%ae%e5%8a%a9%e5%a2%9e%e5%bc%baIstio%e8%af%81%e4%b9%a6%e7%ae%a1%e7%90%86%e7%9a%84%e5%ae%89%e5%85%a8%e6%80%a7%e5%92%8c%e7%81%b5%e6%b4%bb%e6%80%a7" class="facebook" title="Share on Facebook" target="_blank" rel="nofollow">
      <svg class="icon">
  <title>facebook</title>
  <use xlink:href="#facebook"></use>
</svg>

    </a>
    <a href="#linkedinshare" id = "linkedinshare" class="linkedin" title="Share on LinkedIn" rel="nofollow">
      <svg class="icon">
  <title>linkedin</title>
  <use xlink:href="#linkedin"></use>
</svg>

    </a>
    <a href="https://idouba.com/istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/" title="Copy Link" class="link link_yank">
      <svg class="icon">
  <title>copy</title>
  <use xlink:href="#copy"></use>
</svg>

    </a>
  </div>
  </span>
  </div>

    <div class="post_body"><hr>
<p>记录在2023年9月26日在<a href="https://istioconchina2023.sched.com/">上海IstioCon</a>上发表的技术演讲《<a href="https://istioconchina2023.sched.com/event/1RoVD/cert-manager-istioduo-fa-lia-zha-re-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management-chaomeng-zhang-huawei">cert-manager Help Enhance Security and Flexibility of Istio Certificate Management</a>》</p>
<h3 id="议题"><strong>议题：</strong></h3>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/desc.png"
      
      
    />

    </picture>
</figure>
</p>
<p>对等身份验证是 Istio 零信任安全模型的基本组成部分。默认情况下，Istio 创建私钥和自签名根证书，使用它们自动签署和颁发 X.509 证书给每个工作负载，并帮助应用程序实现互相 TLS，以实现无需更改代码的安全服务间通信。在生产环境中，强烈建议从 PKI 提供商颁发根 CA，以增强安全性并提供更多的灵活性。在这次演讲中，超盟将分享 cert-manager 的详细实践，它是一个强大且可扩展的 X.509 证书控制器，如何帮助 Istio 构建增强的零信任网络。演讲将说明 cert-manager 如何通过自动从指定的 PKI 提供商获取证书，并在到期前的配置时间内更新证书，以避免任何服务停机，从而简化 Istio 根 CA 的生命周期管理。</p>
<p>Peer authentication is fundamental part of Istio’s zero-trust security model. By default, Istio creates a private key and self-signed root certificate, uses them to automatically sign and issue X.509 certificates to every workload, and help application make mutual TLS to secure service-to-service communication without code changes. In production environment, it is strongly recommended to issue the root CA from a PKI provider to enhance the security and provide more flexibility. In this speech, Chaomeng will share a detailed practice of how cert-manager, a powerful and extensible X.509 certificate controller, help Istio build enhanced zero-trust network. That is how cert-manager simplify Istio root CA lifecycle management by automatically obtaining certificates from a specified PKI provider, and renewing certificates at a configured time before expiry to avoid any service downtime.</p>
<h3 id="正文"><strong>正文：</strong></h3>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/01.png"
      
      
    />

    </picture>
</figure>
</p>
<p>大家好，我是张超盟，来自华为云。今天我分享主题是istio安全的相关内容。
大家使用istio最常见的是非侵入的流量和可观测性能力，如方便的灰度分流策略。实际上，随着使用深入，会感受到istio强大的安全能力。 实际上与其说istio提供了非侵入的认证、授权等安全能力，不如说提供了一个完备的安全模型。我们一般称为零信任安全网络。 在这个安全模型中，证书是非常基础的一块能力。今天的分享中我们将了解istio和一个证书管理服务cert-manager配合提供全面灵活的安全能力。</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/02.png"
      
      
    />

    </picture>
</figure>
</p>
<p>我是华为云分布式云原生的架构师，从2018年开始也一直在负责华为云应用服务网格的设计开发工作。</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/03.png"
      
      
    />

    </picture>
</figure>
</p>
<p>演讲的内容包括：</p>
<ul>
<li>必要的背景Istio零信任安全；</li>
<li>Istio安全中证书碰到的问题</li>
<li>和cert-manager给出的解决办法</li>
<li>重点是两个实践：cert-manager提供Istio根证书管理和Ingress-gateway证书管理的的实践。</li>
</ul>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/04.png"
      
      
    />

    </picture>
</figure>
</p>
<p>首先如今天的这次演讲的标题，我们的切入点和上下文是零信任安全。零信任安全的内容很多，我们这里仅介绍本次演讲必要的背景内容。</p>
<p>这是零信任安全的一个比较标准的定义。零信任安全模型描述了一种用于 IT 系统策略、设计和实施的方法。</p>
<p>零信任安全模型背后的主要概念是“从不信任，始终验证”。零信任就是不信任，目标在什么都不信任的环境上提供安全，千万别文字上简单理解成没有信任的安全环境。默认情况下，不应信任用户和设备，即使它们连接到许可的网络，即使它们以前已经过验证。通过建立强身份验证、在授予访问权限之前验证设备合规性，以及确保仅对明确授权的资源进行最小特权访问来实现。</p>
<p>可以看到这和传统理解的安全只是使用防火墙IDS这些在入口处防护，零信任模型里，网络内部和外部都不会信任任何人，网络、人、设备、负载都是zero trust。</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/05.png"
      
      
    />

    </picture>
</figure>
</p>
<p>零信任安全模型的一个典型实现是这样。可以看到涉及四个大框：</p>
<ol>
<li>右上角的Resource表示访问的资源，也是零信任安全保护的对象，所有的数据、计算都认为是Resource，对这些资源的访问都要基于零信任网络的原则进行管理。</li>
<li>左上角是资源请求者，或者说客户端。不管这个客户端来自网络外部还是网络内部都是不被信任。</li>
<li>中间的策略执行点PEP来决定哪些访问是信任哪些不信任。PEP基于负载的身份标识、认证客户端的身份、并基于请求属性动态判定对目标资源的访问是否信任。注意这里的判定基于一个独立的连接或者会话，对请求进行评估判定，因此可能出现上一次请求是允许的后面的请求不允许，可能来自一个客户端对统一资源的请求，请求中携带的某个属性变化了，请求就不被允许。</li>
<li>PEP应用的策略都是基于控制面PDP动态生效，就是图下面部分。</li>
</ol>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/06.png"
      
      
    />

    </picture>
</figure>
</p>
<p>以上这个图是不是很容易联想到Istio这张经典的安全的架构图。网格的数据面代理非常适当地扮演了PEP的角色，实现了零信任模型中对PEP的要求。</p>
<p>网格中支持Kubernetes Service account、云平台身份等多种身份标识，并通过证书或编码身份，进行认证；网格数据面代理应用间进行透明的双向认证，同时进行访问通道加密。并且可以自动为网格中的负载签发、续签证书；基于认证的服务身份，结合应用访问内容配置细粒度的授权策略，细粒度地控制资源访问权限，践行零信任安全要求的每会话控制要求和最小访问权限原则；还可以通过访问日志详细记录服务间访问。</p>
<p>并且很重要一点，以上这些能力都是非侵入方式提供，透明地拦截服务间的流量，透明地应用配置的安全策略，应用代码不感知也无需修改，应用部署的下层基础设施无需修改。所以有时我们也说Istio提供了一个零信任的网络基础设施，部署运行在上面的服务负载天然就是满足零信任的要求。</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/07.png"
      
      
    />

    </picture>
</figure>
</p>
<p>上面图上橘红色圆点标记了Istio安全体现中证书作用的位置。证书是在Istio的零信任安全体系的根基。我们下面展开看下Istio安全体现中证书的几处应用。</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/08.png"
      
      
    />

    </picture>
</figure>
</p>
<p>前面说过了Istio提供了一套基于负载身份的认证体系。Istio数据面基于负载身份生成负载的证书，并基于负载的证书进行透明的双向认证和通道加密。</p>
<p>主要机制是Istio代理负责维护本Pod内的证书和密钥。Istio代理生成私钥，并基于负载身份，一般是k8s的service account，向Istiod发起证书签名请求CSR（Certificates Signing Request）得到签发的证书和对应的Istio代理上的密钥一起使用。网格代理Envoy上通过SDS获取新的证书，并基于该证书进行身份认证和服务间安全通信。Istio代理负责证书和密钥的定期轮换，当监控到证书过期时重新申请，并向本地Envoy推送新的证书。</p>
<p>虽然负载上证书自动签发和维护，那么签发这些证书的根证书呢？默认情况下Istio提供了一种开箱即用的方式来启用这些安全能力，Istiod会自动创建一个私钥和一个自签名的有效期为10年的证书，存储在cacerts中。Istiod则使用这个根CA为负载签发证书。但在生产环境下这个自签的证书不能满足安全要求，另外每个控制面自签的证书各自负载签发负载证书，也会导致多控制面的场景下，负载间不能互相认证。</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/09.png"
      
      
    />

    </picture>
</figure>
</p>
<p>另外是网格ingress处的TLS Termination。在Ingress-gateway上配置服务端证书，供源服务，一般是浏览器等客户端认证，并将客户端到网格边界这段TLS的加密流量透明转化为非加密流量向下传递。在Gateway提供客户端认证，避免了入口服务frontend管理证书和与调用方TLS交换的问题。frontend仍然是普通的HTTP协议提供能力，TLS被ingress Gateway卸载或终止掉了。</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/10.png"
      
      
    />

    </picture>
</figure>
</p>
<p>网格中与Ingress 处的TLS Termination对应的是Egress的TLS Origination。Egress-gateway接收网格内部未加密的流量，根据网格外部服务端的的认证要求进行Simple或双向TLS认证。在Egress-gateway认证网格外部的服务端，避免了出口的微服务自身管理证书和与目标服务TLS交互的问题。backend仍然是普通的HTTP或TCP协议访问外部服务，Egress-gateway代替网格服务发起了TLS请求。</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/11.png"
      
      
    />

    </picture>
</figure>
</p>
<p>这里列了个表格简单对比了三种模式。</p>
<p>位置看mTLS作用在网格内部，TLS termination和TLS origination分别作用在网格的入口和出口。</p>
<p>mTLS是Istio自动签发证书，自动加载到网格数据面的Sidecar上，Sidecar代替业务透明地完成TLS。TLS termination是客户端程序和Ingress-gateway间进行TLS交换和认证。TLS origination是Egress-gateway和外部目标服务间进行TLS交换和认证。</p>
<p>但有一个共同的特点，都是基于证书的认证，TLS termination和TLS origination是配置的实体证书，需要有证书管理。mTLS虽然负载的证书是由Istio自动签发，但网格的根证书管理还是要解决的问题。包括如何进行证书的管理、续签等。</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/12.png"
      
      
    />

    </picture>
</figure>
</p>
<p>下面我们总结整理下Istio中证书相关的挑战和需求</p>
<p>首先，避免证书问题引起的服务运行问题，不管是证书过期还是证书配置错误。但是遗憾的是，在实际生产中这却是导致最终业务故障的一类典型问题。另外关于证书最直接的需求是在证书有效期过期前的自动续签。生产中经常是运维人员配置相关告警，在证书快过期前收到告警后，手工去签发和替换证书。如果能有办法在到期前自动续签，可以减少这部分人工负担，并可避免人工操作引入的失误。</p>
<p>可以有一种方式可以灵活方便地配置证书的相关属性，包括有效期、dns域名等。最好是能支持多种证书签发者，包括公有CA和私有CA等。另外一个是最好能和云原生有结合，方便云原生的应用或者平台使用证书。</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/13.png"
      
      
    />

    </picture>
</figure>
</p>
<p>对于以上问题和需求，当前有一个比较合适的解决方案，那就是cert-manager。</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/14.png"
      
      
    />

    </picture>
</figure>
</p>
<p>这是摘自cert manager官方的介绍。是一个作用于k8s的强大的可扩展的x509证书控制器。可以从多种包括公有和私有CA的不同的证书签发者获取证书，保证证书满足有效期要求，基于证书配置的时间，在过期前自动续签。</p>
<p>社区描述的能力我们这里就不挨着过了，基于后面的实践会有体会。</p>
<p>这里的cert就是certificate，翻译成中文我们一般指数字证书，简称证书。数字证书的基本概念这里不完全介绍，我们这里一句话补充下：根据非对称密码学的原理，每个证书持有人都有一对公钥和私钥，这两把密钥可以互为加解密。数字证书就是经过CA认证过的公钥，因此数字证书和公钥一样是公开的。</p>
<p>而私钥一般情况都是由证书持有者在自己本地生成或委托受信的第三方生成的，由证书持有者自己负责保管或委托受信的第三方保管。比如前面介绍Istio签发的负载证书，私钥是在stio agent中维护，只是向Istiod请求签发一个证书；而公共或私有的CA机构，创建CA类型的证书时，只有证书本身，不会给你私钥，私钥在机构维护。</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/15.png"
      
      
    />

    </picture>
</figure>
</p>
<p>这里是cert-manager的架构，体现了架构也体现了机制和流程。cert-manger 关键概念很多，满足基本使用要求，了解两个即可，就是图上下面两层：Issuer表示cert-manager对接的一个证书发行者CA。Issuer接受证书签发请求CSR，向请求方签发证书。Certificate表示一个要签发的x509证书的详细描述，包括哪个颁发者签发，有效期，多长时间自动续签等。。</p>
<p>总体流程是：通过Issuer配置一般对接一个证书机构，通过certificate描述要签发的证书。cert-manager把CSR发给Issuer描述的证书发行者，并将证书发行者签发的证书，存储在Secret中。</p>
<p>cert-manager内置了多个证书发行者，也可以扩展支持其他证书发行者，如各种厂商提供的私有证书PCA，扩展Issuer的定义，并安装Addon来对接PCA。</p>
<p>这里只是概念模型上介绍下其定位和用法，具体用法后面的实践中详细了解。</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/16.png"
      
      
    />

    </picture>
</figure>
</p>
<p>首先我们介绍cert-manager为Istio服务网格生成根证书，我们会介绍cert-manager通过对接一个CCM的私有CA来签发证书，这个证书作为网格的根CA，为网格的负载签发证书。</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/17.png"
      
      
    />

    </picture>
</figure>
</p>
<p>这个图是我在前面介绍的Istio根证书机制上添加了基于cert-manager的证书签发机制的完整流程。</p>
<p>1.首先创建 PCA的 CA 层次结构，包括根 CA 和从属 CA，这个步骤我们下页详细介绍</p>
<p>2.第二步，配置将从属 CA 设置为cert-manager的证书发行者</p>
<p>3.cert-manager根据certificate的配置从PCA签发证书，并存储在cacerts这个secret 中。</p>
<p>4.cert-manager管理证书的生命期，根据证书对象的配置在到期前续签证书。</p>
<p>下面就是Istio的固有流程和机制了：</p>
<p>1.Istiod 提供 gRPC 服务来接收证书签名请求 （CSR）</p>
<p>2.Istio 代理创建私钥和 CSR，并将 CSR 发送到 Istiod 进行签名</p>
<p>3.Istiod 根据从cert-manager获取到的根证书签发 CSR 以生成证书</p>
<p>4.Envoy 通过SDS向 Istio 请求证书和密钥</p>
<p>5.Istio 代理监测工作负载证书的到期时间，定期检查证书和密钥轮换</p>
<p>6.工作负载的Sidecar基于负载证书进行透明的双向 TLS （mTLS）</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/18.png"
      
      
    />

    </picture>
</figure>
</p>
<p>这是PCA和Istio总体的CA层次结构。可以看到分四层，前两层在PCA中定义，后两层在Istio中实现。使用pca的从属ca作为证书发行者，签发证书，作为istio控制面的根证书，再签发负载实体证书。</p>
<p>最下是实体证书，也称为叶子证书或终端证书，安装在终端上。进行实体身份认证，可以是客户端也可以是服务端。如我们前面提到的ingressgw和egressgw上配置的证书。是证书链的最后一层，不能签发其他证书。</p>
<p>最顶层是根证书，是公钥体系的信任根，可以签发下层证书。根ca如果频繁使用，它的密钥泄露风险就增加，一旦泄露，下层所有证书都必须废弃。所以一般不直接用根证书签发最终的实体证书。而是引入中间层，从属ca。</p>
<p>图上中间两层就是从属ca，用于隔离根证书与下层的叶子证书。在证书链验证过程中对下一层证书进行校验。可以向下签发从属ca或叶子证书。当一个从属ca暴露，只用吊销和和替换它这个分支下的证书，不影响根ca和其他从属ca和其他叶子证书。</p>
<p>ca层次从上向下有效期逐层减少。强制要求新签发的证书到期时间不能超过其父证书。根ca使用最少，保护安全等级最高，一般有效期10-30年。从属ca越往下层有效期越短，一般设置2-5年。实体证书使用最频繁，泄露风险最高，一般根据应用场景设置一两年几个月甚至几小时。</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/19.png"
      
      
    />

    </picture>
</figure>
</p>
<p>这是在华为云CCM上创建的证书。首先创建根CA，然后根据根CA创建一个从属CA。在选择从属CA的有效期时，要求不能超过根CA的有效期。创建时可以填证书的各种属性。</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/20.png"
      
      
    />

    </picture>
</figure>
</p>
<p>下来，配置cert-manager最重要的两个对象Issuer和Certificate。</p>
<p>其中Issuer是一个扩展实现，包括接连接PCA的插件，和对应的CRD，描述对Issuer的配置。不同类型的Issuer配置会不同。这个CCM的Issuer配置连接上一步CCM的PCA创建的一个从属CA，使用这个从属CA签发证书。</p>
<p>待签发的证书通过certificate对象来描述。几个值得关注的属性：</p>
<ul>
<li>isCA，描述这里签发的是一个可以签发证书的证书，即是一个CA。结合前面的架构图，我们理解这里签发的证书要作为网格的root CA，响应数据面的CSR请求，为数据面签发负载的证书。</li>
<li>Duration，表示证书的有效期，这里是以小时为单位描述，不能超过在PCA上创建的二级从属证书的有效期</li>
<li>Renewbefoe表示在有效期到期前10天，cert-manager调用自动从PCA续签证书。</li>
<li>Secret是签发证书的存储位置，存储在cacerts的secret中。</li>
</ul>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/21.png"
      
      
    />

    </picture>
</figure>
</p>
<p>这是Isito中的典型配置，给一个目标服务启用mTLs，通过Peerauthentication配置对目标负载使用严格默认的认证；DestinationRule中定义使用ISTIO_MUTUAL的模式，即Istio提供的透明双向认证。Istio自身配置这里我们不多赘述。</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/22.png"
      
      
    />

    </picture>
</figure>
</p>
<p>当启用了mTLS后，服务就完全无需关心tls和证书的相关问题，服务端协议HTTP，客户端通过普通HTTP协议访问。通过客户端的访问输出、客户端和服务端代理的访问日志上都可以看到应用本身没有涉及TLS和证书。</p>
<p>代理根据认证策略。自动地为服务提供透明的mTLS，实现服务的双向认证、通道加密。后续配合基于身份的授权策略，管理服务间的访问授权，实现最小访问权限，只有明确的特定身份可以访问某些特征的服务。如具体哪些身份的负载可以访问目标服务的哪些接口，这里的身份就是编码在证书中。</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/23.png"
      
      
    />

    </picture>
</figure>
</p>
<p>下面是通过cert manager为Istio的Ingress-gateway签发证书，生产中Ingress-gateway的证书过期导致的服务不通的问题时有发生。</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/24.png"
      
      
    />

    </picture>
</figure>
</p>
<p>总体架构如和流程如下：</p>
<p>1.在cert-manager中创建Issuer</p>
<p>2.在cert-manager中创建证书</p>
<p>3.配置的Issuer签发证书并存在配置的secret中</p>
<p>4.cert-manager会一直检查证书的有效期，在过期前自动续签。</p>
<p>5.Istio gateway的TLS中定义使用上一步生成的secret作为认证的资料</p>
<p>6.Istio的动态把证书推送到Ingress-gateway</p>
<p>7.客户端发起HTTPS请求，携带服务端的CA，Ingress-gateway和客户端TLS握手，并验证服务端证书</p>
<p>8.Ingress-gateway执行TLS终止，并将HTTP流量发送给后端服务</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/25.png"
      
      
    />

    </picture>
</figure>
</p>
<p>下面重要部分是定义cert-manager的两个重要资源对象。</p>
<p>首先是Issuer：和前一个实践不同，这里的Issuer使用的是cert-manager内置的CA类型的Issuer，即在secret中存储的证书和私钥来签发证书。</p>
<p>其次是证书的定义：最大的不同是，isCA是false，表示签发的不是一个CA而是一个实体证书。只是用于Ingress-gateway直接使用，不可用于签发证书，属于证书链中的最后一层，是Ingress-gateway与调用的客户端进行HTTPS通信的凭证。</p>
<p>另外也配置了证书的有效期、续签时间、生成的证书存储的secret等。</p>
<p>另外配置了dnsName，指定与证书相关联的域名如果客户端的，校验客户端访问的域名与 subjectAltName 扩展中该域名匹配。</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/26.png"
      
      
    />

    </picture>
</figure>
</p>
<p>这里是配置Ingress-gateway的定义。</p>
<p>协议HTTPS，TLS模式配置为SIMPLE，表示TLS终止时，只需要客户端校验服务端，服务端无需校验客户端，这也是ingress gateway 人机交互的典型配置。</p>
<p>Tls的credentialName配置cert-manager生成的证书的secret。</p>
<p>其他Istio固有的配置这里不过多解析</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/27.png"
      
      
    />

    </picture>
</figure>
</p>
<p>以下是解析是配置的证书内容，包括cert-manager中certificate资源对象的详细信息，配置的证书有效期是300天；在到期前10天进行证书续签。</p>
<p>可以看到isCA：false，表示这是一个作用于终端的实体证书，不是一个可以再签发其他证书的CA。把envoy congfigdump出来的gateway关联的证书内容解出来，对比可见，与我们在cert-manager中通过certificate资源定义的证书的各项内容一致。包括证书有效期，是否CA、dns名等。</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/28.png"
      
      
    />

    </picture>
</figure>
</p>
<p>这是一个端到端的测试。在网格外部，通过HTTPS协议访问Ingress-gateway，来访问网格的一个服务。访问链路上的详细流程如下：</p>
<p>1.Gateway 加载cert-manager配置并生成的证书</p>
<p>2.客户端HTTPS访问，并携带服务端CA</p>
<p>3.从访问的输出可以看到：</p>
<p>4.客户端和Ingress-gateway的TLS握手</p>
<p>5.验证服务端证书，包括过期时间，SAN等</p>
<p>6.最终效果是Ingress-gateway卸载了TLS请求，将HTTPS流量转化为HTTP流量发给后端服务。</p>
<p><figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt=""
      
        class="image_figure image_internal image_unprocessed"
        src="../picture/2023-09-26-istiocon2023-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management/29.png"
      
      
    />

    </picture>
</figure>
</p>
<p>以上是我们实践的全部内容，实际项目中细节更多，时间关系并没有全部包含在以上分享中。</p>
<h3 id="附"><strong>附：</strong></h3>
<ul>
<li><a href="https://static.sched.com/hosted_files/istioconchina2023/5d/cert-manager%20Help%20Enhance%20Security%20and%20Flexibility%20of%20Istio%20Certificate%20....pdf?_gl=1*zm2you*_gcl_au*MTE5MjYzOTE3Mi4xNzI1NTQ2MTAw*FPAU*MTE5MjYzOTE3Mi4xNzI1NTQ2MTAw">演讲材料(官方Slides)</a></li>
<li><a href="https://istioconchina2023.sched.com/event/1RoVD/cert-manager-istioduo-fa-lia-zha-re-cert-manager-help-enhance-security-and-flexibility-of-istio-certificate-management-chaomeng-zhang-huawei">官方Sched主页</a></li>
</ul>

    </div>
<div class="post_comments">
  
  
  
</div>




  </article>
<aside class="sidebar">
  <section class="sidebar_inner">
    <br>
    
  
  <div class="search">
    <input type="search" class="search_field form_field" placeholder='Search...' id="find" autocomplete="off" data-scope='posts'>
    <label for="find" class="search_label"><svg class="icon">
  <title>search</title>
  <use xlink:href="#search"></use>
</svg>

    </label>
    
    <div class="search_results results"></div>
  </div>


    
    
    <h2 class="mt-4">Recent Posts</h2>
    <ul class="flex-column">
      <li>
        <a href="https://idouba.com/doudou-military-training/" class="nav-link" title="豆哥军训归来">豆哥军训归来</a>
      </li>
      <li>
        <a href="https://idouba.com/doudou-first-day-of-new-term/" class="nav-link" title="开学第一天和豆哥的奇妙的拼车之旅">开学第一天和豆哥的奇妙的拼车之旅</a>
      </li>
      <li>
        <a href="https://idouba.com/kubecon2024-best-practice-karmada-and-istio-improve-workload-traffic-resilience-of-production-distributed-cloud/" class="nav-link" title="KubeCon2024：Karmda和Istio提高分布式云的负载与流量韧性的最佳实践">KubeCon2024：Karmda和Istio提高分布式云的负载与流量韧性的最佳实践</a>
      </li>
      <li>
        <a href="https://idouba.com/kubecon2023-detailed-parse-and-reproduce-istio-response-flags-index/" class="nav-link" title="KubeCon2023：基于实际案例解析Istio访问日志ResponseFlag系列">KubeCon2023：基于实际案例解析Istio访问日志ResponseFlag系列</a>
      </li>
      <li>
        <a href="https://idouba.com/detailed-parse-and-reproduce-istio-response-flags-14-RL/" class="nav-link" title="RL(服务限流)--Istio访问日志ResponseFlag重现与解析14">RL(服务限流)--Istio访问日志ResponseFlag重现与解析14</a>
      </li>
      <li>
        <a href="https://idouba.com/detailed-parse-and-reproduce-istio-response-flags-13-RL/" class="nav-link" title="RL(服务限流)--Istio访问日志ResponseFlag重现与解析13">RL(服务限流)--Istio访问日志ResponseFlag重现与解析13</a>
      </li>
      <li>
        <a href="https://idouba.com/detailed-parse-and-reproduce-istio-response-flags-12-UC/" class="nav-link" title="UC(上游连接中断)--Istio访问日志ResponseFlag重现与解析12">UC(上游连接中断)--Istio访问日志ResponseFlag重现与解析12</a>
      </li>
      <li>
        <a href="https://idouba.com/detailed-parse-and-reproduce-istio-response-flags-11-UT/" class="nav-link" title="UT(上游请求超时)--Istio访问日志ResponseFlag重现与解析11">UT(上游请求超时)--Istio访问日志ResponseFlag重现与解析11</a>
      </li>
    </ul>
    <div>
      <h2 class="mt-4 taxonomy" id="categories-section">Categories</h2>
      <nav class="tags_nav">
        <a href='https://idouba.com/categories/istio/' class="post_tag button button_translucent" title="istio">
          ISTIO
          <span class="button_tally">41</span>
        </a>
        
        <a href='https://idouba.com/categories/%E9%9A%8F%E7%AC%94/' class="post_tag button button_translucent" title="随笔">
          随笔
          <span class="button_tally">17</span>
        </a>
        
        <a href='https://idouba.com/categories/hadoop/' class="post_tag button button_translucent" title="hadoop">
          HADOOP
          <span class="button_tally">12</span>
        </a>
        
        <a href='https://idouba.com/categories/%E6%BC%94%E8%AE%B2/' class="post_tag button button_translucent" title="演讲">
          演讲
          <span class="button_tally">9</span>
        </a>
        
        <a href='https://idouba.com/categories/istio%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97/' class="post_tag button button_translucent" title="istio权威指南">
          ISTIO权威指南
          <span class="button_tally">7</span>
        </a>
        
        <a href='https://idouba.com/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/' class="post_tag button button_translucent" title="数据库">
          数据库
          <span class="button_tally">7</span>
        </a>
        
        <a href='https://idouba.com/categories/%E5%8F%91%E8%A1%A8/' class="post_tag button button_translucent" title="发表">
          发表
          <span class="button_tally">6</span>
        </a>
        
        <a href='https://idouba.com/categories/kubecon/' class="post_tag button button_translucent" title="kubecon">
          KUBECON
          <span class="button_tally">4</span>
        </a>
        
        <a href='https://idouba.com/categories/golang/' class="post_tag button button_translucent" title="golang">
          GOLANG
          <span class="button_tally">3</span>
        </a>
        
        <a href='https://idouba.com/categories/istiocon/' class="post_tag button button_translucent" title="istiocon">
          ISTIOCON
          <span class="button_tally">3</span>
        </a>
        
        <a href='https://idouba.com/categories/kubernetes/' class="post_tag button button_translucent" title="kubernetes">
          KUBERNETES
          <span class="button_tally">3</span>
        </a>
        
        <a href='https://idouba.com/categories/%E5%B9%B6%E5%8F%91/' class="post_tag button button_translucent" title="并发">
          并发
          <span class="button_tally">3</span>
        </a>
        
        <a href='https://idouba.com/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/' class="post_tag button button_translucent" title="机器学习">
          机器学习
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://idouba.com/categories/%E8%B1%86%E5%93%A5/' class="post_tag button button_translucent" title="豆哥">
          豆哥
          <span class="button_tally">2</span>
        </a>
        
        
        <br>
        <div class="post_tags_toggle button">All Categories</div>
        <div class="post_tags">
          <div class="tags_list">
            
            <a href='https://idouba.com/categories/golang/' class=" post_tag button button_translucent" data-position=3 title="golang">GOLANG<span class="button_tally">3</span>
            </a>
            
            
            <a href='https://idouba.com/categories/hadoop/' class=" post_tag button button_translucent" data-position=12 title="hadoop">HADOOP<span class="button_tally">12</span>
            </a>
            
            
            <a href='https://idouba.com/categories/istio/' class=" post_tag button button_translucent" data-position=41 title="istio">ISTIO<span class="button_tally">41</span>
            </a>
            
            
            <a href='https://idouba.com/categories/istiocon/' class=" post_tag button button_translucent" data-position=3 title="istiocon">ISTIOCON<span class="button_tally">3</span>
            </a>
            
            
            <a href='https://idouba.com/categories/istio%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97/' class=" post_tag button button_translucent" data-position=7 title="istio权威指南">ISTIO权威指南<span class="button_tally">7</span>
            </a>
            
            
            <a href='https://idouba.com/categories/jvm/' class=" post_tag button button_translucent" data-position=1 title="jvm">JVM<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/categories/karmada/' class=" post_tag button button_translucent" data-position=1 title="karmada">KARMADA<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/categories/kubecon/' class=" post_tag button button_translucent" data-position=4 title="kubecon">KUBECON<span class="button_tally">4</span>
            </a>
            
            
            <a href='https://idouba.com/categories/kubernetes/' class=" post_tag button button_translucent" data-position=3 title="kubernetes">KUBERNETES<span class="button_tally">3</span>
            </a>
            
            
            <a href='https://idouba.com/categories/servicemeshcon/' class=" post_tag button button_translucent" data-position=1 title="servicemeshcon">SERVICEMESHCON<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/categories/%E5%8F%91%E8%A1%A8/' class=" post_tag button button_translucent" data-position=6 title="发表">发表<span class="button_tally">6</span>
            </a>
            
            
            <a href='https://idouba.com/categories/%E5%B9%B6%E5%8F%91/' class=" post_tag button button_translucent" data-position=3 title="并发">并发<span class="button_tally">3</span>
            </a>
            
            
            <a href='https://idouba.com/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/' class=" post_tag button button_translucent" data-position=7 title="数据库">数据库<span class="button_tally">7</span>
            </a>
            
            
            <a href='https://idouba.com/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/' class=" post_tag button button_translucent" data-position=2 title="机器学习">机器学习<span class="button_tally">2</span>
            </a>
            
            
            <a href='https://idouba.com/categories/%E6%BC%94%E8%AE%B2/' class=" post_tag button button_translucent" data-position=9 title="演讲">演讲<span class="button_tally">9</span>
            </a>
            
            
            <a href='https://idouba.com/categories/%E8%B1%86%E5%93%A5/' class=" post_tag button button_translucent" data-position=2 title="豆哥">豆哥<span class="button_tally">2</span>
            </a>
            
            
            <a href='https://idouba.com/categories/%E9%9A%8F%E7%AC%94/' class=" post_tag button button_translucent" data-position=17 title="随笔">随笔<span class="button_tally">17</span>
            </a>
            
            <div class="tags_sort"><span title="sort alphabetically">[A~Z]</span><span title="sort by count">[0~9]</span>
            </div>
            <span class="tags_hide"><svg class="icon">
            <use xlink:href="#closeme"></use>
          </svg></span>
          </div>
        </div>
      </nav>
    </div>
    <div>
      <h2 class="mt-4 taxonomy" id="tags-section">Tags</h2>
      <nav class="tags_nav">
        <a href='https://idouba.com/tags/istio/' class="post_tag button button_translucent" title="istio">
          ISTIO
          <span class="button_tally">24</span>
        </a>
        
        <a href='https://idouba.com/tags/%E6%BC%94%E8%AE%B2/' class="post_tag button button_translucent" title="演讲">
          演讲
          <span class="button_tally">23</span>
        </a>
        
        <a href='https://idouba.com/tags/kubecon/' class="post_tag button button_translucent" title="kubecon">
          KUBECON
          <span class="button_tally">19</span>
        </a>
        
        <a href='https://idouba.com/tags/java/' class="post_tag button button_translucent" title="java">
          JAVA
          <span class="button_tally">17</span>
        </a>
        
        <a href='https://idouba.com/tags/%E8%AE%BF%E9%97%AE%E6%97%A5%E5%BF%97/' class="post_tag button button_translucent" title="访问日志">
          访问日志
          <span class="button_tally">16</span>
        </a>
        
        <a href='https://idouba.com/tags/responseflags/' class="post_tag button button_translucent" title="responseflags">
          RESPONSEFLAGS
          <span class="button_tally">15</span>
        </a>
        
        <a href='https://idouba.com/tags/mapreduce/' class="post_tag button button_translucent" title="mapreduce">
          MAPREDUCE
          <span class="button_tally">12</span>
        </a>
        
        <a href='https://idouba.com/tags/hadoop/' class="post_tag button button_translucent" title="hadoop">
          HADOOP
          <span class="button_tally">11</span>
        </a>
        
        <a href='https://idouba.com/tags/istio%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97/' class="post_tag button button_translucent" title="istio权威指南">
          ISTIO权威指南
          <span class="button_tally">7</span>
        </a>
        
        <a href='https://idouba.com/tags/%E5%9B%BE%E4%B9%A6/' class="post_tag button button_translucent" title="图书">
          图书
          <span class="button_tally">7</span>
        </a>
        
        <a href='https://idouba.com/tags/%E4%BA%91%E5%8E%9F%E7%94%9F%E6%9C%8D%E5%8A%A1%E7%BD%91%E6%A0%BCistio%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5%E6%9E%B6%E6%9E%84%E4%B8%8E%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/' class="post_tag button button_translucent" title="云原生服务网格istio原理实践架构与源码解析">
          云原生服务网格ISTIO原理实践架构与源码解析
          <span class="button_tally">6</span>
        </a>
        
        <a href='https://idouba.com/tags/%E9%9A%8F%E7%AC%94/' class="post_tag button button_translucent" title="随笔">
          随笔
          <span class="button_tally">6</span>
        </a>
        
        <a href='https://idouba.com/tags/golang/' class="post_tag button button_translucent" title="golang">
          GOLANG
          <span class="button_tally">4</span>
        </a>
        
        <a href='https://idouba.com/tags/doudou/' class="post_tag button button_translucent" title="doudou">
          DOUDOU
          <span class="button_tally">3</span>
        </a>
        
        
        <br>
        <div class="post_tags_toggle button">All Tags</div>
        <div class="post_tags">
          <div class="tags_list">
            
            <a href='https://idouba.com/tags/12306/' class=" post_tag button button_translucent" data-position=1 title="12306">12306<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/aqs/' class=" post_tag button button_translucent" data-position=1 title="aqs">AQS<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/dc/' class=" post_tag button button_translucent" data-position=1 title="dc">DC<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/di/' class=" post_tag button button_translucent" data-position=1 title="di">DI<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/doudou/' class=" post_tag button button_translucent" data-position=3 title="doudou">DOUDOU<span class="button_tally">3</span>
            </a>
            
            
            <a href='https://idouba.com/tags/dpe/' class=" post_tag button button_translucent" data-position=1 title="dpe">DPE<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/english/' class=" post_tag button button_translucent" data-position=1 title="english">ENGLISH<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/executor/' class=" post_tag button button_translucent" data-position=2 title="executor">EXECUTOR<span class="button_tally">2</span>
            </a>
            
            
            <a href='https://idouba.com/tags/fi/' class=" post_tag button button_translucent" data-position=1 title="fi">FI<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/g20/' class=" post_tag button button_translucent" data-position=1 title="g20">G20<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/golang/' class=" post_tag button button_translucent" data-position=4 title="golang">GOLANG<span class="button_tally">4</span>
            </a>
            
            
            <a href='https://idouba.com/tags/gre/' class=" post_tag button button_translucent" data-position=1 title="gre">GRE<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/hadoop/' class=" post_tag button button_translucent" data-position=11 title="hadoop">HADOOP<span class="button_tally">11</span>
            </a>
            
            
            <a href='https://idouba.com/tags/infoq/' class=" post_tag button button_translucent" data-position=3 title="infoq">INFOQ<span class="button_tally">3</span>
            </a>
            
            
            <a href='https://idouba.com/tags/istio/' class=" post_tag button button_translucent" data-position=24 title="istio">ISTIO<span class="button_tally">24</span>
            </a>
            
            
            <a href='https://idouba.com/tags/istiocon/' class=" post_tag button button_translucent" data-position=3 title="istiocon">ISTIOCON<span class="button_tally">3</span>
            </a>
            
            
            <a href='https://idouba.com/tags/istio%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97/' class=" post_tag button button_translucent" data-position=7 title="istio权威指南">ISTIO权威指南<span class="button_tally">7</span>
            </a>
            
            
            <a href='https://idouba.com/tags/japanese/' class=" post_tag button button_translucent" data-position=1 title="japanese">JAPANESE<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/java/' class=" post_tag button button_translucent" data-position=17 title="java">JAVA<span class="button_tally">17</span>
            </a>
            
            
            <a href='https://idouba.com/tags/jvm/' class=" post_tag button button_translucent" data-position=1 title="jvm">JVM<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/k-medoids/' class=" post_tag button button_translucent" data-position=1 title="k-medoids">K-MEDOIDS<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/karmada/' class=" post_tag button button_translucent" data-position=1 title="karmada">KARMADA<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/kubecon/' class=" post_tag button button_translucent" data-position=19 title="kubecon">KUBECON<span class="button_tally">19</span>
            </a>
            
            
            <a href='https://idouba.com/tags/kubernetes/' class=" post_tag button button_translucent" data-position=3 title="kubernetes">KUBERNETES<span class="button_tally">3</span>
            </a>
            
            
            <a href='https://idouba.com/tags/mapreduce/' class=" post_tag button button_translucent" data-position=12 title="mapreduce">MAPREDUCE<span class="button_tally">12</span>
            </a>
            
            
            <a href='https://idouba.com/tags/nc/' class=" post_tag button button_translucent" data-position=1 title="nc">NC<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/nr/' class=" post_tag button button_translucent" data-position=1 title="nr">NR<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/oracle/' class=" post_tag button button_translucent" data-position=3 title="oracle">ORACLE<span class="button_tally">3</span>
            </a>
            
            
            <a href='https://idouba.com/tags/pilot/' class=" post_tag button button_translucent" data-position=2 title="pilot">PILOT<span class="button_tally">2</span>
            </a>
            
            
            <a href='https://idouba.com/tags/responseflags/' class=" post_tag button button_translucent" data-position=15 title="responseflags">RESPONSEFLAGS<span class="button_tally">15</span>
            </a>
            
            
            <a href='https://idouba.com/tags/rl/' class=" post_tag button button_translucent" data-position=2 title="rl">RL<span class="button_tally">2</span>
            </a>
            
            
            <a href='https://idouba.com/tags/rpc/' class=" post_tag button button_translucent" data-position=1 title="rpc">RPC<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/servicemeshcon/' class=" post_tag button button_translucent" data-position=1 title="servicemeshcon">SERVICEMESHCON<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/source/' class=" post_tag button button_translucent" data-position=2 title="source">SOURCE<span class="button_tally">2</span>
            </a>
            
            
            <a href='https://idouba.com/tags/spring-cloud/' class=" post_tag button button_translucent" data-position=1 title="spring-cloud">SPRING-CLOUD<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/springcloud/' class=" post_tag button button_translucent" data-position=1 title="springcloud">SPRINGCLOUD<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/uc/' class=" post_tag button button_translucent" data-position=1 title="uc">UC<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/uf/' class=" post_tag button button_translucent" data-position=1 title="uf">UF<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/uh/' class=" post_tag button button_translucent" data-position=1 title="uh">UH<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/upe/' class=" post_tag button button_translucent" data-position=1 title="upe">UPE<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/urx/' class=" post_tag button button_translucent" data-position=1 title="urx">URX<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/ut/' class=" post_tag button button_translucent" data-position=1 title="ut">UT<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E3%81%AB%E3%81%BB%E3%82%93%E3%81%94/' class=" post_tag button button_translucent" data-position=1 title="にほんご">にほんご<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E4%BA%8B%E5%8A%A1/' class=" post_tag button button_translucent" data-position=1 title="事务">事务<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E4%BA%91%E5%8E%9F%E7%94%9F%E6%9C%8D%E5%8A%A1%E7%BD%91%E6%A0%BCistio%E5%8E%9F%E7%90%86%E5%AE%9E%E8%B7%B5%E6%9E%B6%E6%9E%84%E4%B8%8E%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/' class=" post_tag button button_translucent" data-position=6 title="云原生服务网格istio原理实践架构与源码解析">云原生服务网格ISTIO原理实践架构与源码解析<span class="button_tally">6</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E4%BF%A1/' class=" post_tag button button_translucent" data-position=2 title="信">信<span class="button_tally">2</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E5%85%B3%E4%BA%8E/' class=" post_tag button button_translucent" data-position=1 title="关于">关于<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E5%86%9B%E8%AE%AD/' class=" post_tag button button_translucent" data-position=2 title="军训">军训<span class="button_tally">2</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E5%88%86%E7%B1%BB/' class=" post_tag button button_translucent" data-position=1 title="分类">分类<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E5%8F%91%E8%A1%A8/' class=" post_tag button button_translucent" data-position=1 title="发表">发表<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E5%9B%BD%E9%99%85%E7%B1%B3%E5%85%B0/' class=" post_tag button button_translucent" data-position=1 title="国际米兰">国际米兰<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E5%9B%BE%E4%B9%A6/' class=" post_tag button button_translucent" data-position=7 title="图书">图书<span class="button_tally">7</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/' class=" post_tag button button_translucent" data-position=1 title="垃圾回收">垃圾回收<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E5%A4%9A%E9%9B%86%E7%BE%A4/' class=" post_tag button button_translucent" data-position=1 title="多集群">多集群<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E5%AE%89%E5%85%A8/' class=" post_tag button button_translucent" data-position=1 title="安全">安全<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E5%AE%9E%E8%B7%B5/' class=" post_tag button button_translucent" data-position=1 title="实践">实践<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E5%B9%B6%E5%8F%91/' class=" post_tag button button_translucent" data-position=1 title="并发">并发<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/' class=" post_tag button button_translucent" data-position=1 title="微服务">微服务<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E6%89%A7%E8%A1%8C%E8%AE%A1%E5%88%92/' class=" post_tag button button_translucent" data-position=1 title="执行计划">执行计划<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/' class=" post_tag button button_translucent" data-position=1 title="数据库">数据库<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E6%96%B0%E5%86%A0/' class=" post_tag button button_translucent" data-position=1 title="新冠">新冠<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/' class=" post_tag button button_translucent" data-position=3 title="最佳实践">最佳实践<span class="button_tally">3</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E6%9C%8D%E5%8A%A1%E7%BD%91%E6%A0%BC/' class=" post_tag button button_translucent" data-position=3 title="服务网格">服务网格<span class="button_tally">3</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/' class=" post_tag button button_translucent" data-position=1 title="机器学习">机器学习<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E6%BC%94%E8%AE%B2/' class=" post_tag button button_translucent" data-position=23 title="演讲">演讲<span class="button_tally">23</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E7%A5%96%E6%AF%8D/' class=" post_tag button button_translucent" data-position=2 title="祖母">祖母<span class="button_tally">2</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E7%A8%8B%E5%BA%8F%E5%91%98/' class=" post_tag button button_translucent" data-position=3 title="程序员">程序员<span class="button_tally">3</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E7%B4%A2%E5%BC%95/' class=" post_tag button button_translucent" data-position=3 title="索引">索引<span class="button_tally">3</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E8%81%9A%E7%B1%BB/' class=" post_tag button button_translucent" data-position=1 title="聚类">聚类<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E8%A1%A8%E8%BF%9E%E6%8E%A5/' class=" post_tag button button_translucent" data-position=1 title="表连接">表连接<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E8%A5%BF%E5%AE%89/' class=" post_tag button button_translucent" data-position=1 title="西安">西安<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E8%AE%BF%E9%97%AE%E6%97%A5%E5%BF%97/' class=" post_tag button button_translucent" data-position=16 title="访问日志">访问日志<span class="button_tally">16</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E8%B0%83%E7%94%A8%E9%93%BE/' class=" post_tag button button_translucent" data-position=2 title="调用链">调用链<span class="button_tally">2</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E8%B1%86%E5%93%A5/' class=" post_tag button button_translucent" data-position=2 title="豆哥">豆哥<span class="button_tally">2</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E8%B6%B3%E7%90%83/' class=" post_tag button button_translucent" data-position=1 title="足球">足球<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E9%93%81%E8%B7%AF/' class=" post_tag button button_translucent" data-position=1 title="铁路">铁路<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E9%9A%8F%E7%AC%94/' class=" post_tag button button_translucent" data-position=6 title="随笔">随笔<span class="button_tally">6</span>
            </a>
            
            
            <a href='https://idouba.com/tags/%E9%9F%A7%E6%80%A7/' class=" post_tag button button_translucent" data-position=1 title="韧性">韧性<span class="button_tally">1</span>
            </a>
            
            <div class="tags_sort"><span title="sort alphabetically">[A~Z]</span><span title="sort by count">[0~9]</span>
            </div>
            <span class="tags_hide"><svg class="icon">
            <use xlink:href="#closeme"></use>
          </svg></span>
          </div>
        </div>
      </nav>
    </div>
  </section>
</aside>

  
</div>
    </main><svg width="0" height="0" class="hidden">
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="facebook">
    <path d="M437 0H75C33.648 0 0 33.648 0 75v362c0 41.352 33.648 75 75 75h151V331h-60v-90h60v-61c0-49.629 40.371-90 90-90h91v90h-91v61h91l-15 90h-76v181h121c41.352 0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zm0 0"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18.001 18.001" id="twitter">
    <path d="M15.891 4.013c.808-.496 1.343-1.173 1.605-2.034a8.68 8.68 0 0 1-2.351.861c-.703-.756-1.593-1.14-2.66-1.14-1.043 0-1.924.366-2.643 1.078a3.56 3.56 0 0 0-1.076 2.605c0 .309.039.585.117.819-3.076-.105-5.622-1.381-7.628-3.837-.34.601-.51 1.213-.51 1.846 0 1.301.549 2.332 1.645 3.089-.625-.053-1.176-.211-1.645-.47 0 .929.273 1.705.82 2.388a3.623 3.623 0 0 0 2.115 1.291c-.312.08-.641.118-.979.118-.312 0-.533-.026-.664-.083.23.757.664 1.371 1.291 1.841a3.652 3.652 0 0 0 2.152.743C4.148 14.173 2.625 14.69.902 14.69c-.422 0-.721-.006-.902-.038 1.697 1.102 3.586 1.649 5.676 1.649 2.139 0 4.029-.542 5.674-1.626 1.645-1.078 2.859-2.408 3.639-3.974a10.77 10.77 0 0 0 1.172-4.892v-.468a7.788 7.788 0 0 0 1.84-1.921 8.142 8.142 0 0 1-2.11.593z"
      ></path>
  </symbol>
  <symbol aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="mail">
    <path  d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="calendar">
    <path d="M452 40h-24V0h-40v40H124V0H84v40H60C26.916 40 0 66.916 0 100v352c0 33.084 26.916 60 60 60h392c33.084 0 60-26.916 60-60V100c0-33.084-26.916-60-60-60zm20 412c0 11.028-8.972 20-20 20H60c-11.028 0-20-8.972-20-20V188h432v264zm0-304H40v-48c0-11.028 8.972-20 20-20h24v40h40V80h264v40h40V80h24c11.028 0 20 8.972 20 20v48z"></path>
    <path d="M76 230h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 310h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 390h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80-80h40v40h-40z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="github">
    <path d="M255.968 5.329C114.624 5.329 0 120.401 0 262.353c0 113.536 73.344 209.856 175.104 243.872 12.8 2.368 17.472-5.568 17.472-12.384 0-6.112-.224-22.272-.352-43.712-71.2 15.52-86.24-34.464-86.24-34.464-11.616-29.696-28.416-37.6-28.416-37.6-23.264-15.936 1.728-15.616 1.728-15.616 25.696 1.824 39.2 26.496 39.2 26.496 22.848 39.264 59.936 27.936 74.528 21.344 2.304-16.608 8.928-27.936 16.256-34.368-56.832-6.496-116.608-28.544-116.608-127.008 0-28.064 9.984-51.008 26.368-68.992-2.656-6.496-11.424-32.64 2.496-68 0 0 21.504-6.912 70.4 26.336 20.416-5.696 42.304-8.544 64.096-8.64 21.728.128 43.648 2.944 64.096 8.672 48.864-33.248 70.336-26.336 70.336-26.336 13.952 35.392 5.184 61.504 2.56 68 16.416 17.984 26.304 40.928 26.304 68.992 0 98.72-59.84 120.448-116.864 126.816 9.184 7.936 17.376 23.616 17.376 47.584 0 34.368-.32 62.08-.32 70.496 0 6.88 4.608 14.88 17.6 12.352C438.72 472.145 512 375.857 512 262.353 512 120.401 397.376 5.329 255.968 5.329z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 212 212" id="gitlab">
    <path d="M12.3 74.7h54L43.3 3c-1-3.6-6.4-3.6-7.6 0L12.3 74.8z" />
    <path d="M12.3 74.7L.5 111c-1 3.2 0 6.8 3 8.8l101.6 74-92.5-119z"/>
    <path d="M105 193.7l-38.6-119h-54l92.7 119z"/>
    <path d="M105 193.7l38.7-119H66.4l38.7 119z"/>
    <path d="M105 193.7l38.7-119H198l-93 119z"/>
    <path d="M198 74.7l11.6 36.2c1 3 0 6.6-3 8.6l-101.5 74 93-119z"/>
    <path d="M198 74.7h-54.3L167 3c1.2-3.6 6.4-3.6 7.6 0L198 74.8z"/>
  </symbol>
  <symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="rss">
    <circle cx="3.429" cy="20.571" r="3.429"></circle>
    <path d="M11.429 24h4.57C15.999 15.179 8.821 8.001 0 8v4.572c6.302.001 11.429 5.126 11.429 11.428z"></path>
    <path d="M24 24C24 10.766 13.234 0 0 0v4.571c10.714 0 19.43 8.714 19.43 19.429z"></path>
  </symbol>
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="linkedin">
    <path d="M437 0H75C33.648 0 0 33.648 0 75v362c0 41.352 33.648 75 75 75h362c41.352 0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zM181 406h-60V196h60zm0-240h-60v-60h60zm210 240h-60V286c0-16.54-13.46-30-30-30s-30 13.46-30 30v120h-60V196h60v11.309C286.719 202.422 296.93 196 316 196c40.691.043 75 36.547 75 79.688zm0 0"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 612 612" id="to-top">
    <path d="M604.501 440.509L325.398 134.956c-5.331-5.357-12.423-7.627-19.386-7.27-6.989-.357-14.056 1.913-19.387 7.27L7.499 440.509c-9.999 10.024-9.999 26.298 0 36.323s26.223 10.024 36.222 0l262.293-287.164L568.28 476.832c9.999 10.024 26.222 10.024 36.221 0 9.999-10.023 9.999-26.298 0-36.323z"></path>
  </symbol>
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="carly">
    <path d="M504.971 239.029L448 182.059V84c0-46.317-37.682-84-84-84h-44c-13.255 0-24 10.745-24 24s10.745 24 24 24h44c19.851 0 36 16.149 36 36v108c0 6.365 2.529 12.47 7.029 16.971L454.059 256l-47.029 47.029A24.002 24.002 0 0 0 400 320v108c0 19.851-16.149 36-36 36h-44c-13.255 0-24 10.745-24 24s10.745 24 24 24h44c46.318 0 84-37.683 84-84v-98.059l56.971-56.971c9.372-9.372 9.372-24.568 0-33.941zM112 192V84c0-19.851 16.149-36 36-36h44c13.255 0 24-10.745 24-24S205.255 0 192 0h-44c-46.318 0-84 37.683-84 84v98.059l-56.971 56.97c-9.373 9.373-9.373 24.568 0 33.941L64 329.941V428c0 46.317 37.682 84 84 84h44c13.255 0 24-10.745 24-24s-10.745-24-24-24h-44c-19.851 0-36-16.149-36-36V320c0-6.365-2.529-12.47-7.029-16.971L57.941 256l47.029-47.029A24.002 24.002 0 0 0 112 192z"></path>
  </symbol>
  <symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="copy">
    <path d="M23 2.75A2.75 2.75 0 0 0 20.25 0H8.75A2.75 2.75 0 0 0 6 2.75v13.5A2.75 2.75 0 0 0 8.75 19h11.5A2.75 2.75 0 0 0 23 16.25zM18.25 14.5h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5zm0-3h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5zm0-3h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5z"></path>
    <path d="M8.75 20.5a4.255 4.255 0 0 1-4.25-4.25V2.75c0-.086.02-.166.025-.25H3.75A2.752 2.752 0 0 0 1 5.25v16A2.752 2.752 0 0 0 3.75 24h12a2.752 2.752 0 0 0 2.75-2.75v-.75z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512.001 512.001" id="closeme">
    <path d="M284.286 256.002L506.143 34.144c7.811-7.811 7.811-20.475 0-28.285-7.811-7.81-20.475-7.811-28.285 0L256 227.717 34.143 5.859c-7.811-7.811-20.475-7.811-28.285 0-7.81 7.811-7.811 20.475 0 28.285l221.857 221.857L5.858 477.859c-7.811 7.811-7.811 20.475 0 28.285a19.938 19.938 0 0 0 14.143 5.857 19.94 19.94 0 0 0 14.143-5.857L256 284.287l221.857 221.857c3.905 3.905 9.024 5.857 14.143 5.857s10.237-1.952 14.143-5.857c7.811-7.811 7.811-20.475 0-28.285L284.286 256.002z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="open-menu">
    <path d="M492 236H20c-11.046 0-20 8.954-20 20s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20zm0-160H20C8.954 76 0 84.954 0 96s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20zm0 320H20c-11.046 0-20 8.954-20 20s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="instagram">
    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id=youtube>
    <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="stackoverflow">
    <path d="M21 27v-8h3v11H0V19h3v8h18z"></path><path d="M17.1.2L15 1.8l7.9 10.6 2.1-1.6L17.1.2zm3.7 14.7L10.6 6.4l1.7-2 10.2 8.5-1.7 2zM7.2 12.3l12 5.6 1.1-2.4-12-5.6-1.1 2.4zm-1.8 6.8l13.56 1.96.17-2.38-13.26-2.55-.47 2.97zM19 25H5v-3h14v3z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="xing">
    <path d="M18.188 0c-.517 0-.741.325-.927.66 0 0-7.455 13.224-7.702 13.657.015.024 4.919 9.023 4.919 9.023.17.308.436.66.967.66h3.454c.211 0 .375-.078.463-.22.089-.151.089-.346-.009-.536l-4.879-8.916c-.004-.006-.004-.016 0-.022L22.139.756c.095-.191.097-.387.006-.535C22.056.078 21.894 0 21.686 0h-3.498zM3.648 4.74c-.211 0-.385.074-.473.216-.09.149-.078.339.02.531l2.34 4.05c.004.01.004.016 0 .021L1.86 16.051c-.099.188-.093.381 0 .529.085.142.239.234.45.234h3.461c.518 0 .766-.348.945-.667l3.734-6.609-2.378-4.155c-.172-.315-.434-.659-.962-.659H3.648v.016z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 71 55" id="discord">
    <path d="M60.1045 4.8978C55.5792 2.8214 50.7265 1.2916 45.6527 0.41542C45.5603 0.39851 45.468 0.440769 45.4204 0.525289C44.7963 1.6353 44.105 3.0834 43.6209 4.2216C38.1637 3.4046 32.7345 3.4046 27.3892 4.2216C26.905 3.0581 26.1886 1.6353 25.5617 0.525289C25.5141 0.443589 25.4218 0.40133 25.3294 0.41542C20.2584 1.2888 15.4057 2.8186 10.8776 4.8978C10.8384 4.9147 10.8048 4.9429 10.7825 4.9795C1.57795 18.7309 -0.943561 32.1443 0.293408 45.3914C0.299005 45.4562 0.335386 45.5182 0.385761 45.5576C6.45866 50.0174 12.3413 52.7249 18.1147 54.5195C18.2071 54.5477 18.305 54.5139 18.3638 54.4378C19.7295 52.5728 20.9469 50.6063 21.9907 48.5383C22.0523 48.4172 21.9935 48.2735 21.8676 48.2256C19.9366 47.4931 18.0979 46.6 16.3292 45.5858C16.1893 45.5041 16.1781 45.304 16.3068 45.2082C16.679 44.9293 17.0513 44.6391 17.4067 44.3461C17.471 44.2926 17.5606 44.2813 17.6362 44.3151C29.2558 49.6202 41.8354 49.6202 53.3179 44.3151C53.3935 44.2785 53.4831 44.2898 53.5502 44.3433C53.9057 44.6363 54.2779 44.9293 54.6529 45.2082C54.7816 45.304 54.7732 45.5041 54.6333 45.5858C52.8646 46.6197 51.0259 47.4931 49.0921 48.2228C48.9662 48.2707 48.9102 48.4172 48.9718 48.5383C50.038 50.6034 51.2554 52.5699 52.5959 54.435C52.6519 54.5139 52.7526 54.5477 52.845 54.5195C58.6464 52.7249 64.529 50.0174 70.6019 45.5576C70.6551 45.5182 70.6887 45.459 70.6943 45.3942C72.1747 30.0791 68.2147 16.7757 60.1968 4.9823C60.1772 4.9429 60.1437 4.9147 60.1045 4.8978ZM23.7259 37.3253C20.2276 37.3253 17.3451 34.1136 17.3451 30.1693C17.3451 26.225 20.1717 23.0133 23.7259 23.0133C27.308 23.0133 30.1626 26.2532 30.1066 30.1693C30.1066 34.1136 27.28 37.3253 23.7259 37.3253ZM47.3178 37.3253C43.8196 37.3253 40.9371 34.1136 40.9371 30.1693C40.9371 26.225 43.7636 23.0133 47.3178 23.0133C50.9 23.0133 53.7545 26.2532 53.6986 30.1693C53.6986 34.1136 50.9 37.3253 47.3178 37.3253Z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 18" id="mastodon">
    <path
    fill="#ffffff"
    d="m 15.054695,9.8859583 c -0.22611,1.1632697 -2.02517,2.4363497 -4.09138,2.6830797 -1.0774504,0.12856 -2.1382704,0.24673 -3.2694704,0.19484 -1.84996,-0.0848 -3.30971,-0.44157 -3.30971,-0.44157 0,0.1801 0.0111,0.35157 0.0333,0.51194 0.24051,1.82571 1.81034,1.93508 3.29737,1.98607 1.50088,0.0514 2.8373104,-0.37004 2.8373104,-0.37004 l 0.0617,1.35686 c 0,0 -1.0498104,0.56374 -2.9199404,0.66742 -1.03124,0.0567 -2.3117,-0.0259 -3.80308,-0.42069 -3.23454998,-0.85613 -3.79081998,-4.304 -3.87592998,-7.8024197 -0.026,-1.03871 -0.01,-2.01815 -0.01,-2.83732 0,-3.57732 2.34385998,-4.62587996 2.34385998,-4.62587996 1.18184,-0.54277 3.20976,-0.77101 5.318,-0.7882499985409 h 0.0518 C 9.8267646,0.01719834 11.856025,0.24547834 13.037775,0.78824834 c 0,0 2.34377,1.04855996 2.34377,4.62587996 0,0 0.0294,2.63937 -0.32687,4.47183"/>
 <path
    fill="#000000"
    d="m 12.616925,5.6916583 v 4.3315297 h -1.71607 V 5.8189683 c 0,-0.88624 -0.37289,-1.33607 -1.1187604,-1.33607 -0.82467,0 -1.23799,0.53361 -1.23799,1.58875 v 2.30122 h -1.70594 v -2.30122 c 0,-1.05514 -0.4134,-1.58875 -1.23808,-1.58875 -0.74587,0 -1.11876,0.44983 -1.11876,1.33607 v 4.2042197 h -1.71607 V 5.6916583 c 0,-0.88527 0.22541,-1.58876 0.67817,-2.10922 0.46689,-0.52047 1.07833,-0.78727 1.83735,-0.78727 0.87816,0 1.54317,0.33752 1.98288,1.01267 l 0.42744,0.71655 0.42753,-0.71655 c 0.43961,-0.67515 1.10463,-1.01267 1.9828704,-1.01267 0.75893,0 1.37037,0.2668 1.83735,0.78727 0.45268,0.52046 0.67808,1.22395 0.67808,2.10922"/>
  </symbol>
</svg>

<footer class="footer">
  <div class="footer_inner wrap pale">
    <img src='https://idouba.com/icons/apple-touch-icon.png' class="icon icon_2 transparent" alt="浙ICP备18050493号-1 浙公网安备 33010802006262号">
    <p>Copyright&nbsp;<span class="year"></span>&nbsp;浙ICP备18050493号-1 浙公网安备 33010802006262号. All Rights Reserved</p><a class="to_top" href="#documentTop">
  <svg class="icon">
  <title>to-top</title>
  <use xlink:href="#to-top"></use>
</svg>

</a>

  </div>
</footer>

<script type="text/javascript" src="https://idouba.com/en/js/bundle.ff336aa3aa59d3b9ad38479bb59153d96581fbb501e8946475e657e5412e6b0ecfd0011520c158ce613db24190d23242c59813c62c23f9d902b693489bbdf52f.js" integrity="sha512-/zNqo6pZ07mtOEebtZFT2WWB&#43;7UB6JRkdeZX5UEuaw7P0AEVIMFYzmE9skGQ0jJCxZgTxiwj&#43;dkCtpNIm731Lw==" crossorigin="anonymous"></script>

  <script src="https://idouba.com/js/search.min.786102b9f5b14ee0b60197dc064e532809aec49bcc43fea72e5a513113f04b44a7241d6683d3993d5b7a48582f4986e0b9a28c72ebc48a2072c52aad8f40a2b3.js"></script>

  </body>
</html>
