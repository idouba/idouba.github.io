<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>铁路 on 爱豆吧！</title>
    <link>https://idouba.com/tags/%E9%93%81%E8%B7%AF/</link>
    <description>Recent content in 铁路 on 爱豆吧！</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <copyright>浙ICP备18050493号-1 浙公网安备 33010802006262号</copyright>
    <lastBuildDate>Mon, 24 Jul 2023 15:32:08 +0000</lastBuildDate><atom:link href="https://idouba.com/tags/%E9%93%81%E8%B7%AF/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>西湖会昌子</title>
      <link>https://idouba.com/meet-changzi-in-hangzhou/</link>
      <pubDate>Mon, 24 Jul 2023 15:32:08 +0000</pubDate>
      
      <guid>https://idouba.com/meet-changzi-in-hangzhou/</guid>
      <description>
        
          
            中午开车接上老婆孩子，急急忙忙和二十多年的兄弟昌子见了一面，吃了个饭。
从高德上收到六和塔附近汇合点捞上昌子，到茅家埠附近的弄堂里吃饭，加一起也没有多长时间。傻叉非要说等下和等下要和在西湖边溜达的同事回合，都是从北京铁路系统来疗养的，晚上还要一起返回无锡去。
车上丫坐副驾驶位置总是嘚啵嘚的diss哥开车这不对哪不对的，靠。
饭桌上，我们聊起了咱们当年。中专入学刚认识的时候，你十五岁，我也十五岁。你好像都有剃须刀了，哥那会儿毛还没长出来呢。应该是你们北京发达地区吃得好，长得快。哥来自偏远地区还只吃面，长得慢。
那年你93斤，我88斤。四年后我们毕业了，你123斤，我也123斤。哪天我们约好去学校门口过称比体重，我灌了一大杯水，才比你多了几两赢了你。就因为这几两险胜，你才答应，我以后娶了媳妇你管叫嫂子。因为我生日只大你一个月，就冲你胡子出来早四年里总是嘚瑟地一直让我喊你哥。临到最后你哥我才扳回一局，那叫一个爽，虽然靠灌水作弊，但感觉就是正义的胜利。但现在我们对坐在饭桌上，我还是那会儿的123，你都搞到160了。行行行，还是你赢了。
毕业后，你回北京，在四道口厂子里焊钢轨，哥分配到了铁一局修铁路。我记得那时候兴毕业留言册，你给哥写的是盼着以后来北京修地铁，咱就可以常见面了。
哥修铁路干的第一个工程是秦沈客运专线，工地在沈阳附近。从东北回西安我总会在北京停下，来榆树庄找你玩几天。那会儿工地上有野外补助，加上哥参与修的那条线当时号称是中国第一条高铁，工地奖金高。哥钱包里掏出的票子让你这北京土著也喊叫“你这是来北京消费的啊”。对了，哥当时那个帆布钱包还是你在学校送我的，后面用了很多年。
记得当时班上自我介绍的时候你说你们村在卢沟桥边上。小时候总去卢沟桥上玩，把卢沟桥的石狮子都让你们摸的秃噜皮了。我好像讲了我们村附近埋着汉武帝，边上有个茂陵博物馆里还有卫青和霍去病的墓。后来我记得你拿着个破地图给我指说你们村离天安门可近了，比房山那些地方近多了。
二年级时候咱们班倒洛阳重机厂的车间实习。一个多月的实习时间里在车间干了啥我到现在一点印象都没有，只记得你带我和几个人在重机厂的龙门吊下面打扑克。印象更深的厂子里有个带假山的水池，水池里有些小鱼，你后来天天带着我在那个水池里捞鱼。不知从哪里搞来个破草帽，用根绳子系在一木棍上，每次中饭从食堂带了些米饭放在草帽里。最终一个鱼毛都没有捞到，却就这样干了一个月。想想咱们得同龄人那时候正在高二紧张地学习，我们天天在摸鱼也是很有意思。那时候咱十六岁了吧，我给我儿子说你幼儿园前也喜欢在小区的水池里捞鱼，也是鱼毛都捞不到，也是天天都要去。
饭桌上你兴奋地拿出手机里的照片，一个五毛的钢镚儿本人立在高铁的桌子上。你给哥吹牛说你们把100米一段的钢轨焊成500米，高铁才跑的这么稳。哥说哥参与修建了中国第一条高铁，只是后来大家说法变了，我们当时修的那个叫第一天客运专线，几年后修成的你们北京到天津那个被认定为第一条高铁。我们都曾经为为中国铁路事业做贡献，咱们同学很多人还在持续贡献，哥惭愧当了逃兵。
因为等会儿要开车，下午还要上班，不能陪你喝。给你自个儿要了啤酒。一手拿着酒杯，掏出的铁路职工乘车证给哥炫耀这次北京到无锡疗养全免票。你显摆优越感的时候是不是忘了你哥也从铁路上出来的，当年也是持证的，拿着这个证从沈阳工地到西安免费火车瞎溜达，中间在北京还歇歇脚找你玩了半个月。白天你去四道口焊钢轨，哥跟着大老吴坐公交车从榆树庄出来，到西单劝业场，大老吴去那里一个写字楼跟着一堆喊口号的人搞他那个5000一个东陵附近墓地的房地产买卖，哥就在上面的新华书店看一天书，然后晚上回到榆树庄在你家蹭饭睡觉。
有个夏天那是东北工地都结束了，我们在家里等通知，哪里有活接着去哪里。有个啥事来着，我这个免费乘车证还能用，就又来北京找你玩，好像就住在四道口你们职工宿舍里。天天中午跟着你们一帮人去附近馆子吃喝，你们还总撩骚人家上菜的姑娘，应该都是川菜馆子里的川妹子吧。
除了干铁路时候经常来北京，哥后来转了赛道去北京出差的次数也很多。基本上每次办完事，不管在大北京的那个角落，得一点空都会窜到丰台来找你。而你算上这次也才是哥第二次接待你。
第一次是在西安，比这次还要仓促。哥那会儿正在复习考研，记得在西电的阶梯教室里接到你的电话。你说你们在四川绵阳有个啥活干完了坐火车回北京，火车会路过西安。你们是铁路上的通票，不能随意下车停留。但是过兄弟跟前，就想着要怎么能见一面。于是我们就约定再西安站的站台上，你告诉我到站时间。哥撂下电话就跑到附近超市买了点小米柿饼这些看着像陕西特产又不太贵的东西搞了一包。准备考研的四个月里你哥完全没有收入，之前几年在西安边自学点东西，边打点零工，干的也是些跑腿的活，在铁路上挣得钱也霍霍的差不多了，日子比较拮据，大方给你买点东西也大方不到哪里去。结账时搞了几个易拉罐的啤酒和小瓶白酒塞了进去。
忘了当时靠站台票还是我的铁路职工乘车证，我好像给检票的说了我们有个铁路的兄弟要从这里过，他就告诉我站台让进去了，天下铁路人是一家啊。火车停下来，你穿着秋裤下了车。车在西安站就停车这几分钟，我们对着干了酒，没聊几句，真的都在酒里了。哥干了剩下的半瓶酒，目送你的火车继续开动。你继续北上回家的路，我也要回我的出租屋里继续复习。
咱那天见面后有一段糗事哥当时没给你说，后面几次北京见面我也从来没有给你说过。因为你的火车到西安的时间已经十一点多了，从火车站回我那个出租屋所在的村子的公交车停运了，哥只能从火车站打了个车回去。当时没有钱，吃饭都紧张，每月手里固定的一点现金抠着花。在超市买完东西加上咱的酒，口袋里好像只剩下十几块零五毛了。在出租车计价器跳到那个十几块的时候，摸摸口袋就提前下车了。走着回去走了多少里不知道，只是大半夜在当年号称贼城的街道一个人走路有点害怕，有一段还很偏，回到屋里躺到床上时估计你的那个慢车都至少开到华山了。
遗憾怎么也说不动你这个傻叉再留一晚，我家附近过了一桥下面酒店哥都给你看好了。你干了两瓶啤酒，哥只赔了两杯西瓜汁。如果能留下来，咱可以重复六七年前在北京牡丹园那一顿，牛二加土豆丝，无限续杯。搞得人家饭店打烊了，老板催了几次还不走，气的老板把电扇给关了。最终也没有赶走这俩光着膀子流着大汗吃喝的流氓。吃喝到一两点在酒店楼下又扯了一个多小时，我回到房间老婆孩子早睡着了，而你要赶回丰台估计就更晚了。第二天还是第三天我们刚起床，你又拿着小米粥和牛肉火烧过来了，这么远就为给哥和家人送个早点。
当年你比较时髦，哥比较土。四年级时候你开始练滑板，还领着我在学校后面找有没有哪个店能给你的T恤上印上“滑板梦之队”的字，现在你别说印“滑板梦之队”了，你就是让人给你印个“滑板屎之队”淘宝两天就能给你寄过来。那时候这东西好像不是很容易，忘了你最终装逼成功没。
最羡慕你搭飘逸的齐耳的碎发，对比哥入学时大家评价又矮又挫小黄毛没发育好的样子。现在哥摸摸渐秃的头顶，对你夹杂着大片白发的大叔平头也是满满的敬畏和羡慕。
我的好兄弟，这些个年，这些个十年。看着很多都变了，很多都没变。
多保重，希望咱都顺当平安，祝愿咱们的同学都顺顺当当。
          
          
        
      </description>
    </item>
    
    <item>
      <title>实际抢票体验描述和分析“猎豹抢票跨站推荐功能有票刷不到”的疑似bug</title>
      <link>https://idouba.com/one-new-bug-report-of-liebao-huochepiao/</link>
      <pubDate>Tue, 23 Dec 2014 00:03:04 +0000</pubDate>
      
      <guid>https://idouba.com/one-new-bug-report-of-liebao-huochepiao/</guid>
      <description>
        
          
            前言 快过年了，又到了一年抢票时。今年douba和douma计划要带着doudou回姥姥家。昨天在家用抢票软件居然发现了一个bug，那就是在猎豹抢票中跨站推荐的车票几天里一直是没有，但是在12306手动尝试不同的跨站可以买到票，怀疑是猎豹在处理车次信息的时候对于变化的车次没有考虑到所致。在文中以实际操作尝试对这个bug做个比较详细的描述，并加上一点定位和分析，希望可以帮助这款神器的使用者和开发者提供些有用信息。按照douma的指示，今天上班来中午吃完饭不休息了，匆匆写下发表出来，供其他焦急的抢票战友们借鉴。不要只是懒懒的用工具刷，过于依赖神器，该动手时候要动动手才有可能抢到票。祝大家都能抢到心仪的车票。
正文 在本次战役中，除了360三代外，douma推荐了另外一款抢票神器猎豹。并用自己的成功经验诠释了下该神器的与其他工具的比较优势，那就是除了普通工具都有的自动刷票功能外，还提供了一款推荐功能。可以提示用户购买超出区间的余票，并很nice很体贴的提示出票价超了多少（类似信息检索技术中的查询扩展，都是为了提高查全率）。比如douma本来要买两张hangzhou’到yangzhou的软卧，没有买到，就通过该功能成功的抢了两张wenzhou发车的票，尽管多付了66%的票款（这个败家媳妇！），但是能抢到就是很了不起了！尤其据douma的消息，今年除了起点站很多过路的票都很难抢，因此这个跨站抢票的功能就显得尤为重要了。可是就是这个重要功能，在后续使用中被发现存在问题。
&amp;nbsp;
本来douma的两张超出常规票价66%的两张软卧（败家媳妇，说到这儿就得再骂一遍）可以把doudou和douba带到姥姥家。可是偏偏doudou的姥姥家住的就是这么偏僻，下了火车还要再倒一班3个半小时的短途火车。就是这两张车票让douma和douba抢了三四天都没有抢到。怎么想这个短途车也不至于这么热吧？打了电话12306，声音甜美的美眉客服也是说票都被秒杀啦。但是昨天在家里打开笔记本打算继续扫之前，douba无意做了个操作，却发现了个神奇的现象。
360和猎豹显示“本次车票已经卖完了”。12306其他地方也是显示yanzhou这个过站没有票。说明确实过站的票是没有了。
然后当然是尝试跨站的起点站购票了。douma天天都盯着猎豹的跨站推荐的地方。但是三天里推荐功能一直显示：“订票助手正在为您监控以下跨站票”。让douma望眼欲穿！看来douma比较拿手的始发站下手的策略也没有办法实施。难道这个票从“zaozhuangxi”就卖完啦？douma一个本地人非常不解，这个车以前好像都是没人坐吧，又慢又不好的，要不是带着doudou等大巴麻烦，我才不选这个破车呢。douma领着douba和doudou回家从yanzhou到juxian就这一班火车的哦。急死了！
就这样焦急了三天，天天上班douba和douma都是到座位开机后不忘把两个神器开起来，然后才忙别的，期间还会QQ、电话互通下进展。晚上下班回家，第一件事情也是把doudou先放一边，打开神器再忙别的。一天一天，douma都要放弃了，也就商量着直接打个车得了。
直到周末，准确说是周日昨天（周六都懒得搞了），吃完饭开机搞别的，居然被douba轻松手动的从12306的官方售票处买到了这趟车的车票。你能想到在douba支付宝支付的时候，douma和doudou那敬仰的神态吗？家长就应该是这个样子滴！截至到douba这会儿在写这个小文章，去12306上截个图，发现这趟车依然有票在买，从放票开始已经过去整整5天了，票还没卖完。也验证了douma的了解，这趟车确实没有那么热，问题就是为什么猎豹推荐的zaozhuangxi始发的车就是没有呢？结论当然是抢票神器出了问题。
为什么好几天了直到现在12306一直说有票，抢票神器却说没票呢？“应该是这个软件有bug”，CS工学硕士douma第一时间给出了结论，非常镇定，当时的神态都非常认真和专业，尽管不是在公司，而是穿着拖鞋在家里客厅。
douma说的对，但是分析是什么bug呢？就需要一定的业务知识的支持，这个就要请教在读研搞CS前曾经修过铁路的douba了。应该是一个非常tricky的问题，抢票神器可能没有考虑到。那就是车次的问题，细心的朋友应该看到，尽管douma没有选车次，但是神器推荐的是5037?，而douba在12306上买到的是5036。不是Yanzhou到juxian只有一趟车吗？怎么有两个车次?
随即douba打开12306的列车信息演示给douma看，原来这是一趟车。
我们都是有文化的人，但是看到车次这一列，想必大部分人都会“蛋疼了”。有这么折腾人的吗？一趟车走早上七点到八点半叫5036，走到九点就叫5037，再走到中午12点又叫5036，走了三个多小时后，到了下午三点多又叫5037。能不能不要这么任性啊！你都不怕列车广播车次的时候把刚上车的大叔大妈吓得认为坐错车了。反正douma看见这张表是晕菜了。
再听douba啰嗦下《铁路概论》课本上学到的规定的我国的火车车次的编排规则：
我国火车车次的编制和上行下行有关。铁路规定进京方向或是从支线到干线被称为上行，反之离京方向或是从干线到支线被称为下行。上行的列车车次为偶数（双数），下行的列车车次为奇数（单数）。在铁路调度中，调度员能一看车次就知道行驶方向,十分方便。因此就会出现有的车在运行途中会因为线路上下行的改变而改变车次。例如：1392/1393 到天津前是往北京方向，天津站后是远离北京方向。所以这趟火车有两个车次编号。
同样的5036/5037也是。看看这个地图中这趟车的行进线路上和我们伟大祖国的首都的相对位置变化就不难理解其为什么走俩小时变个车次，走俩小时又变一下了。
说到这里，douma大概理解了抢票神器中的问题。“猎豹应该就是只是按照5037进行查询了”。然后douma完整了描述了下bug：“当用户在神器中推荐功能其实是神器自己列举了若干个站到站查询，但是进行这步站到站查询的时候，带上了车次的的信息，不巧这个车次在后面站是存在的，在这个延伸的站是不存在的。即使用的车次不是这趟车的真正的唯一标识，而只是一个看上去的唯一标识。”
说白了用户查yanzhou到juxian的列车，神器先得到车次信息是5037，然后跨站推荐中把查询的起始和终点站向前后延伸，尝试做二次查询。如尝试起点站zaozhuangxi到juxian，但是这个时候却错误的带上了前面的车次信息。两个条件与在一起就查不出来了。在douma的例子中，按照5037去跨站搜，发现zaozhuangxi根本就没有该趟车，不是卖完了，是从来就没有过！以为这趟车在zaozhuangxi人家叫5036。所以就会出现例子中douba在12306上输入zaozhuangxi到juxiain一直有票，而猎豹刷票推荐了好几条，跨站的地方总是zaozhuangxi到juxian没票。
试想如果该趟车在铁路管理系统中的一条记录如下:
Id 车次 起点站 终点站 运行时间 里程 硬卧下 … 889 5036/5037 枣庄西 烟台 11.小时 710 170 890 K112 贵阳 上海南 25小时 1982 416 … 891 … 如果我们用889来标识这趟车是没有问题，如果我们用5036/5037这九个字符来标识这趟车也没有问题，但是如果我们只是用5036或5037这其中四个字符来标识这趟车就有问题了。这样的全称来表达一辆连续的列车是合适的，看好多网站上上车票信息的查询中对车次的标示用的就是用5036/5037这样的标示，而不是一个车次来标示来查。
铁路上是通过运行区间来管理的（以前一个抬杠的熟语是说“铁路警察是管长不管宽”说的就是这个道理），狭长的铁路必须分而治之，因而就有了北京段、济南段这样的分段，但是把运行（现在应该讲是飞驰）在其上的火车也分段命名仅仅是为了调度上好区分而搞单双号，douba一个从铁路系统上跑出来的程序员认为是有点过时了。
但是对于开发神器这个系统的开发者来说这个明显是用户现状了，我们开发者不大能指望客户做多大调整，更何况当你的客户是中国铁路这么一个有深远历史和影响的庞然大物了，所以只能是系统来适应。
前面报bug，包括bug描述以及截图都应该是完整、精确、并且尽可能做到可以reproduct的。但是后面的分析，是douba为了博得doudou和douma再次的敬仰当场发挥的，也就老婆孩子面前装13的，完全是基于自己的理解和分析。可能是跑偏了，只能算是对发现的bug做了个简单的外围的分析和定位吧。但求开发神器的伟大攻城狮们了解到，快点改好。douma还惦记着用神器买返程票呢。作为同行，代表doudou和douma对你们的工作表示由衷的感谢，这才是有用的东西，为我们这些屌丝大众造福的好产品。
另外对于大多数和douma一样的急着抢票的神器用户，douba想说，人家 12306官方都说了大家不要使用刷票软件，也就悠着点用吧，千万不要太迷信刷票软件，该动手时实施自己动手尝试下，说不定会有惊喜哦。
完。
          
          
        
      </description>
    </item>
    
  </channel>
</rss>
